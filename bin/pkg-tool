#!/usr/bin/env ruby

require 'devinstall/cli'

unless ARGV[0]
  puts "You must specify an action"
  exit! ""
end

package = [] # creata a new Array
command = ARGV.shift

while ARGV[0] and ARGV[0][0..1] != '--'
  package << ARGV.shift
end

if %w"version --version -v".include? command
  command = 'version'
end

if %w"help --help -h".include? command
  command = 'help'
end

unless %w"build install upload test help version".include? command
  puts "Unknown command #{command}"
  exit! 1
end

## the next should be the package
# so if ARGV[0] don't start with --
# we name it package
cli=Devinstall::Cli.new(*package) ## Cli can be called for multiple packages
cli.send(command.to_sym)

